# ============================================================================
# CONFIGURA√á√ÉO DE AMBIENTE - SISTEMA IOT CONTROLE DE BARREIRAS
# ============================================================================
# 
# INSTRU√á√ïES DE CONFIGURA√á√ÉO:
# 1. Copie este ficheiro para .env: cp .env.example .env
# 2. Altere os valores conforme o seu ambiente
# 3. NUNCA commite o ficheiro .env real no Git
# 4. Execute: php artisan key:generate (para gerar APP_KEY)
#
# ============================================================================

# ============================================================================
# üöÄ CONFIGURA√á√ïES DA APLICA√á√ÉO
# ============================================================================

# Nome da aplica√ß√£o
APP_NAME="Sistema IOT Controle de Barreiras"

# Ambiente (local, staging, production)
APP_ENV=local

# Chave da aplica√ß√£o (gerar com: php artisan key:generate)
APP_KEY=base64:GERE_UMA_CHAVE_AQUI_COM_php_artisan_key_generate

# Debug (true para desenvolvimento, false para produ√ß√£o)
APP_DEBUG=true

# URL base da aplica√ß√£o
APP_URL=http://localhost:8000

# ============================================================================
# üìä CONFIGURA√á√ïES DE BASE DE DADOS
# ============================================================================

# OP√á√ÉO 1: SQLite (Recomendado para desenvolvimento)
# Simples e n√£o requer servidor de base de dados
DB_CONNECTION=sqlite
DB_DATABASE=database/database.sqlite

# OP√á√ÉO 2: MySQL/MariaDB (Para produ√ß√£o)
# Descomente as linhas abaixo e comente as do SQLite
# DB_CONNECTION=mysql
# DB_HOST=127.0.0.1
# DB_PORT=3306
# DB_DATABASE=nome_da_sua_base_de_dados
# DB_USERNAME=seu_usuario_mysql
# DB_PASSWORD=sua_senha_mysql

# ============================================================================
# üìù CONFIGURA√á√ïES DE LOGS
# ============================================================================

# Canal de logs (single, daily, slack, syslog, errorlog)
LOG_CHANNEL=single

# Canal para logs de depreca√ß√£o
LOG_DEPRECATIONS_CHANNEL=null

# N√≠vel de log (emergency, alert, critical, error, warning, notice, info, debug)
LOG_LEVEL=debug

# ============================================================================
# üìß CONFIGURA√á√ïES DE EMAIL (Opcional)
# ============================================================================

# Driver de email (smtp, sendmail, mailgun, ses, postmark, log, array)
MAIL_MAILER=smtp

# Servidor SMTP (para desenvolvimento local, use mailpit)
MAIL_HOST=mailpit
MAIL_PORT=1025
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=null

# Endere√ßo de origem dos emails
MAIL_FROM_ADDRESS="noreply@iot-barreiras.local"
MAIL_FROM_NAME="${APP_NAME}"

# ============================================================================
# üîê CONFIGURA√á√ïES DE AUTENTICA√á√ÉO E SEGURAN√áA
# ============================================================================

# Laravel Sanctum - Dom√≠nios permitidos para autentica√ß√£o
SANCTUM_STATEFUL_DOMAINS=localhost,localhost:3000,127.0.0.1,127.0.0.1:8000,::1

# Configura√ß√µes de sess√£o
SESSION_DRIVER=file
SESSION_LIFETIME=120
SESSION_ENCRYPT=false
SESSION_PATH=/
SESSION_DOMAIN=null

# ============================================================================
# üåê CONFIGURA√á√ïES DE REDE E CORS
# ============================================================================

# CORS - Origens permitidas (separadas por v√≠rgula)
CORS_ALLOWED_ORIGINS="http://localhost:8080,http://127.0.0.1:8080"

# ============================================================================
# üì° CONFIGURA√á√ïES IOT ESPEC√çFICAS
# ============================================================================

# Configura√ß√µes LoRa
LORA_FREQUENCY=433000000
LORA_BANDWIDTH=125000
LORA_SPREADING_FACTOR=7
LORA_CODING_RATE=5
LORA_TX_POWER=20

# Configura√ß√µes do sistema de barreiras
BARRIER_AUTO_CLOSE_TIME=300
DETECTION_DISTANCE=500
AOA_THRESHOLD=15

# Rate limiting da API
API_RATE_LIMIT=60
API_RATE_LIMIT_ESP32=1000

# ============================================================================
# üîß CONFIGURA√á√ïES AVAN√áADAS
# ============================================================================

# Cache
CACHE_DRIVER=file

# Sistema de ficheiros
FILESYSTEM_DISK=local

# Filas
QUEUE_CONNECTION=sync

# Broadcasting (WebSockets)
BROADCAST_DRIVER=pusher
BROADCAST_CONNECTION=pusher

# ============================================================================
# üì° CONFIGURA√á√ïES WEBSOCKETS (Pusher/Laravel Echo)
# ============================================================================

# Para desenvolvimento local
PUSHER_APP_ID=iot-app
PUSHER_APP_KEY=iot-key
PUSHER_APP_SECRET=iot-secret
PUSHER_HOST=localhost
PUSHER_PORT=6001
PUSHER_SCHEME=http
PUSHER_APP_CLUSTER=mt1

# Para produ√ß√£o com Pusher real, substitua pelos valores reais:
# PUSHER_APP_ID=seu_app_id_pusher
# PUSHER_APP_KEY=sua_chave_pusher
# PUSHER_APP_SECRET=seu_secret_pusher
# PUSHER_HOST=
# PUSHER_PORT=443
# PUSHER_SCHEME=https
# PUSHER_APP_CLUSTER=eu

# ============================================================================
# üé® CONFIGURA√á√ïES FRONTEND (Vite)
# ============================================================================

VITE_PUSHER_APP_KEY="${PUSHER_APP_KEY}"
VITE_PUSHER_HOST="${PUSHER_HOST}"
VITE_PUSHER_PORT="${PUSHER_PORT}"
VITE_PUSHER_SCHEME="${PUSHER_SCHEME}"
VITE_PUSHER_APP_CLUSTER="${PUSHER_APP_CLUSTER}"

# ============================================================================
# ‚òÅÔ∏è CONFIGURA√á√ïES CLOUD (Opcional)
# ============================================================================

# AWS (se usar servi√ßos AWS)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=
AWS_USE_PATH_STYLE_ENDPOINT=false

# Redis (se usar)
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

# Memcached (se usar)
MEMCACHED_HOST=127.0.0.1

# ============================================================================
# üß™ CONFIGURA√á√ïES DE DESENVOLVIMENTO
# ============================================================================

# Debug
DEBUG_HIDE_IN_STACK_TRACE=false

# Telescope (se instalado)
# TELESCOPE_ENABLED=true

# ============================================================================
# üöÄ CONFIGURA√á√ïES DE PRODU√á√ÉO
# ============================================================================
# 
# Para ambiente de produ√ß√£o, altere:
# - APP_ENV=production
# - APP_DEBUG=false
# - Use HTTPS nas URLs (APP_URL, CORS_ALLOWED_ORIGINS)
# - Configure base de dados MySQL/PostgreSQL
# - Configure email real (SMTP)
# - Use cache Redis para melhor performance
# - Configure WebSockets reais (Pusher ou Laravel WebSockets)
# - Configure SSL/TLS
# - Configure backup autom√°tico
#
# ============================================================================

# ============================================================================
# üìã EXEMPLOS DE CONFIGURA√á√ÉO POR AMBIENTE
# ============================================================================
#
# DESENVOLVIMENTO LOCAL:
# APP_ENV=local
# APP_DEBUG=true
# DB_CONNECTION=sqlite
# MAIL_MAILER=log
#
# TESTE/STAGING:
# APP_ENV=staging
# APP_DEBUG=true
# DB_CONNECTION=mysql
# MAIL_MAILER=smtp
#
# PRODU√á√ÉO:
# APP_ENV=production
# APP_DEBUG=false
# DB_CONNECTION=mysql
# MAIL_MAILER=smtp
# CACHE_DRIVER=redis
# SESSION_DRIVER=redis
#
# ============================================================================

# ============================================================================
# ‚ö†Ô∏è NOTAS IMPORTANTES DE SEGURAN√áA
# ============================================================================
#
# üîí NUNCA commite o ficheiro .env real
# üîë Gere sempre uma nova APP_KEY para cada ambiente
# üõ°Ô∏è Use senhas fortes para base de dados
# üåê Configure CORS adequadamente para produ√ß√£o
# üìß Use credenciais reais de email apenas em produ√ß√£o
# üîê Mantenha secrets seguros e rotativos
#
# ============================================================================